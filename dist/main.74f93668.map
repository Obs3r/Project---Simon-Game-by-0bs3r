{"version":3,"sources":["main.js"],"names":["buttons","document","getElementsByClassName","strict","getElementById","strictIcon","reset","steps","play","isStrict","audio","round","game","Howl","src","button","length","style","opacity","Game","playerTurn","pattern","newGame","innerHTML","setTimeout","fadeIntro","newRound","Round","push","Math","floor","random","patternLength","playerPattern","counter","speed","showPattern","console","log","x","buttonGlow","bind","buttonClick","buttonIndex","target","id","parseInt","check","delay","fadeSpeed","pressed","undefined","fade","toggleStrict","onclick","i","onmousedown"],"mappings":"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","file":"main.74f93668.map","sourceRoot":"..","sourcesContent":["var buttons = document.getElementsByClassName('panel'),\r\n  strict = document.getElementById('link-strict'),\r\n  strictIcon = document.getElementById('strict'),\r\n  reset = document.getElementById('link-reset'),\r\n  steps = document.getElementById('score'),\r\n  play = document.getElementById('play'),\r\n  isStrict = false,\r\n  audio = [],\r\n  round,\r\n  game;\r\n\r\n\r\n\r\n/* WITH HOWLER.JS\r\nReason for using Howler.Js: Audio object doesn't play sound well if same button clicked simultaneously.\r\n*/\r\naudio[0] = new Howl({src: ['https://s3.amazonaws.com/freecodecamp/simonSound1.mp3']});\r\naudio[1] = new Howl({src: ['https://s3.amazonaws.com/freecodecamp/simonSound2.mp3']});\r\naudio[2] = new Howl({src: ['https://s3.amazonaws.com/freecodecamp/simonSound3.mp3']});\r\naudio[3] = new Howl({src: ['https://s3.amazonaws.com/freecodecamp/simonSound4.mp3']});\r\n\r\nfor (var button = 0; button < buttons.length; button++) {\r\n  buttons[button].style.opacity = 0.2;\r\n}\r\n\r\nfunction Game() {\r\n  this.playerTurn = false;\r\n  this.pattern = [];\r\n  this.steps = 1;\r\n}\r\n\r\nfunction newGame() {\r\n  game = new Game();\r\n  steps.innerHTML = \"01\";\r\n  setTimeout(fadeIntro, 250);\r\n  setTimeout(newRound, 2500);\r\n}\r\n\r\nfunction Round() {\r\n  game.pattern.push(Math.floor(Math.random() * 4));\r\n  this.patternLength = game.steps;\r\n  this.pattern = game.pattern;\r\n  this.playerPattern = [];\r\n  this.counter = 0;\r\n  this.speed = 1200 - this.patternLength * 20;\r\n}\r\n\r\nfunction newRound() {\r\n  round = new Round();\r\n  showPattern();\r\n  console.log(round.pattern); // HINT\r\n}\r\n\r\nfunction showPattern() {\r\n  game.playerTurn = false;\r\n  play.innerHTML = '<i class=\"fa fa-circle\"></i>';\r\n  for (var x = 0; x < round.patternLength; x++) {\r\n    setTimeout(buttonGlow.bind(null, round.pattern[x],500), round.speed * x);\r\n  }\r\n  setTimeout(function() {\r\n    game.playerTurn = true;\r\n    play.innerHTML = '<i class=\"fa fa-circle-o\"></i>';\r\n  }, round.speed * round.patternLength);\r\n}\r\n\r\nfunction buttonClick(button) {\r\n  if (game.playerTurn) {\r\n    var buttonIndex = button.target.id;\r\n    round.playerPattern.push(parseInt(buttonIndex));\r\n    buttonGlow(button);\r\n    check();\r\n  }\r\n}\r\n\r\nfunction check() {\r\n  if (round.playerPattern[round.counter] === round.pattern[round.counter]) {\r\n    round.counter++;\r\n    if (round.counter === round.patternLength) {\r\n      game.playerTurn = false;\r\n      game.steps++;\r\n      if (game.steps === 21) {\r\n        steps.innerHTML = '<i class=\"fa fa-trophy\"></i>';\r\n        setTimeout(newGame, 4000);\r\n      } else {\r\n        steps.innerHTML = game.steps < 10 ? \"0\" + game.steps : game.steps;\r\n        setTimeout(newRound, 1500);\r\n      }\r\n    }\r\n  } else if (isStrict) {\r\n    steps.innerHTML = '<i class=\"fa fa-exclamation-triangle\"></i>';\r\n    setTimeout(newGame, 2000);\r\n  } else {\r\n    game.playerTurn = false;\r\n    round.counter = 0;\r\n    round.playerPattern = [];\r\n    steps.innerHTML = '<i class=\"fa fa-exclamation-circle\"></i>';\r\n    setTimeout(function() {\r\n      steps.innerHTML = game.steps < 10 ? \"0\" + game.steps : game.steps;\r\n      showPattern();\r\n    }, 1500);\r\n  }\r\n}\r\n\r\nfunction buttonGlow(button, delay, fadeSpeed) {\r\n  var pressed = button.target === undefined ? button : button.target.id;\r\n  buttons[pressed].style.opacity = 1;\r\n  audio[pressed].play();\r\n  setTimeout(\r\n    fade.bind(null, pressed, fadeSpeed !== undefined ? fadeSpeed : 100),\r\n    delay !== undefined ? delay : 100\r\n  );\r\n}\r\n\r\nfunction toggleStrict() {\r\n  isStrict = !isStrict;\r\n  strictIcon.innerHTML = isStrict ? '<i class=\"fa fa-check\"></i>' : '<i class=\"fa fa-times\"></i>';\r\n}\r\n\r\nfunction fade(buttonIndex, fadeSpeed) {\r\n  buttons[buttonIndex].style.opacity -= 0.1;\r\n  if (buttons[buttonIndex].style.opacity > 0.2) {\r\n    setTimeout(fade.bind(null, buttonIndex), fadeSpeed);\r\n  }\r\n}\r\n\r\nfunction fadeIntro() {\r\n  for (var button = 0; button < buttons.length; button++) {\r\n    setTimeout(buttonGlow.bind(null, button), 400 * button);\r\n  }\r\n}\r\n\r\n(function() {\r\n  newGame();\r\n  reset.onclick = newGame;\r\n  strict.onclick = toggleStrict;\r\n  for (var i = 0; i < buttons.length; i++) {\r\n    buttons[i].onmousedown = buttonClick;\r\n  }\r\n})();\r\n\r\n\r\n\r\n"]}